{
  "$schema": "http://json-schema.org/draft-07/schema",
  "title": "Generic Metabarcoding Workflow",
  "type": "object",
  "definitions": {
    "input": {
      "title": "Eingabe & Datenbank",
      "type": "object",
      "fa_icon": "fas fa-arrow-right",
      "properties": {
        "reads": {
          "type": "string",
          "format": "directory-path",
          "title": "Reads Ordner"
        },
        "db_choice": {
          "type": "string",
          "title": "Referenzdatenbank",
          "enum": ["oomycetes_cox", "fusarium_tef", "oomycetes_its", "custom_fasta"],
          "default": "oomycetes_cox"
        },
        "custom_db_path": {
          "type": "string",
          "title": "Eigener Datenbank-Pfad",
          "hidden": true
        }
      },
      "required": ["reads", "db_choice"]
    },
    "output": {
      "title": "Ausgabe",
      "type": "object",
      "fa_icon": "fas fa-arrow-left",
      "properties": {
        "out_dir": {
          "type": "string",
          "default": "output",
          "format": "directory-path",
          "title": "Output Verzeichnis"
        }
      }
    },
    "advanced": {
      "title": "Filter",
      "type": "object",
      "fa_icon": "fas fa-cog",
      "properties": {
        "min_identity": { "type": "number", "default": 90, "title": "Min. Identit√§t (%)" },
        "min_coverage": { "type": "number", "default": 80, "title": "Min. Abdeckung (%)" }
      }
    }
  },
  "allOf": [
    { "$ref": "#/definitions/input" },
    { "$ref": "#/definitions/output" },
    { "$ref": "#/definitions/advanced" }
  ],
  "properties": {
    "monochrome_logs": { "type": "boolean" },
    "validate_params": { "type": "boolean", "default": true },
    "show_hidden_params": { "type": "boolean" }
  }
}